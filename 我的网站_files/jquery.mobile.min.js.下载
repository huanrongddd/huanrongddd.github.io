!function(e,n,i){"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,e,n),t.mobile}):i(e.jQuery,e,n)}(this,document,function(t,e,u,n){var i,o,a,s,r,c,p,l,h,d,v,f,m,g,w,b,T,D,y,x,E,k,P;function X(){var t=s();t!==r&&(r=t,c.trigger(p))}function Y(t,e,n,i){var o=n.type;n.type=e,i?d.event.trigger(n,f,t):d.event.dispatch.call(t,n),n.type=o}(i=t).extend(i.support,{orientation:"orientation"in e&&"onorientationchange"in e}),function(t){t.event.special.throttledresize={setup:function r(){t(this).bind("resize",a)},teardown:function u(){t(this).unbind("resize",a)}};var e,n,i,o=250,a=function a(){n=(new Date).getTime(),o<=(i=n-s)?(s=n,t(this).trigger("throttledresize")):(e&&clearTimeout(e),e=setTimeout(a,o-i))},s=0}(t),c=(o=t)(a=this),p="orientationchange",l={0:!0,180:!0},o.support.orientation&&(e=a.innerWidth||c.width(),g=a.innerHeight||c.height(),h=l[a.orientation],((g=g<e&&50<e-g)&&h||!g&&!h)&&(l={"-90":!0,90:!0})),o.event.special.orientationchange=o.extend({},o.event.special.orientationchange,{setup:function M(){if(o.support.orientation&&!o.event.special.orientationchange.disabled)return!1;r=s(),c.bind("throttledresize",X)},teardown:function I(){if(o.support.orientation&&!o.event.special.orientationchange.disabled)return!1;c.unbind("throttledresize",X)},add:function z(t){var e=t.handler;t.handler=function(t){return t.orientation=s(),e.apply(this,arguments)}}}),o.event.special.orientationchange.orientation=s=function s(){var t=u.documentElement;return(o.support.orientation?l[a.orientation]:t&&t.clientWidth/t.clientHeight<1.1)?"portrait":"landscape"},o.fn[p]=function(t){return t?this.bind(p,t):this.trigger(p)},o.attrFn&&(o.attrFn[p]=!0),function(p,t,l){var u,e,a="virtualMouseBindings",c="virtualTouchID",n="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),h="clientX clientY pageX pageY screenX screenY".split(" "),i=p.event.mouseHooks?p.event.mouseHooks.props:[],d=p.event.props.concat(i),s={},o=0,r=0,v=0,f=!1,m=[],g=!1,w=!1,b="addEventListener"in t,T=p(t),D=1,y=0;function x(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function E(t,e){var n,i,o,a,s,r,u,c=t.type;if((t=p.Event(t)).type=e,n=t.originalEvent,i=p.event.props,-1<c.search(/^(mouse|click)/)&&(i=d),n)for(s=i.length;s;)t[o=i[--s]]=n[o];if(-1<c.search(/mouse(down|up)|click/)&&!t.which&&(t.which=1),-1!==c.search(/^touch/)&&(c=(e=x(n)).touches,e=e.changedTouches,a=c&&c.length?c[0]:e&&e.length?e[0]:l))for(r=0,u=h.length;r<u;r++)t[o=h[r]]=a[o];return t}function k(t){for(var e,n,i={};t;){for(n in e=p.data(t,a))e[n]&&(i[n]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function P(t,e){for(var n;t;){if((n=p.data(t,a))&&(!e||n[e]))return t;t=t.parentNode}return null}function X(){w=!1}function Y(){w=!0}function M(){y=0,m.length=0,g=!1,Y()}function I(){X()}function z(){C(),o=setTimeout(function(){o=0,M()},p.vmouse.resetTimerDuration)}function C(){o&&(clearTimeout(o),o=0)}function L(t,e,n){var i;return(n&&n[t]||!n&&P(e.target,t))&&(i=E(e,t),p(e.target).trigger(i)),i}function S(t){var e=p.data(t.target,c);g||y&&y===e||(e=L("v"+t.type,t))&&(e.isDefaultPrevented()&&t.preventDefault(),e.isPropagationStopped()&&t.stopPropagation(),e.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function F(t){var e,n,i=x(t).touches;i&&1===i.length&&(e=k(n=t.target)).hasVirtualBinding&&(y=D++,p.data(n,c,y),C(),I(),f=!1,n=x(t).touches[0],r=n.pageX,v=n.pageY,L("vmouseover",t,e),L("vmousedown",t,e))}function N(t){w||(f||L("vmousecancel",t,k(t.target)),f=!0,z())}function H(t){var e,n,i,o;w||(e=x(t).touches[0],n=f,i=p.vmouse.moveDistanceThreshold,o=k(t.target),(f=f||Math.abs(e.pageX-r)>i||Math.abs(e.pageY-v)>i)&&!n&&L("vmousecancel",t,o),L("vmousemove",t,o),z())}function O(t){var e,n;w||(Y(),L("vmouseup",t,e=k(t.target)),f||(n=L("vclick",t,e))&&n.isDefaultPrevented()&&(n=x(t).changedTouches[0],m.push({touchID:y,x:n.clientX,y:n.clientY}),g=!0),L("vmouseout",t,e),f=!1,z())}function B(t){var e,n=p.data(t,a);if(n)for(e in n)if(n[e])return!0;return!1}function j(){}function A(n){var i=n.substr(1);return{setup:function t(){B(this)||p.data(this,a,{}),p.data(this,a)[n]=!0,s[n]=(s[n]||0)+1,1===s[n]&&T.bind(i,S),p(this).bind(i,j),b&&(s.touchstart=(s.touchstart||0)+1,1===s.touchstart&&T.bind("touchstart",F).bind("touchend",O).bind("touchmove",H).bind("scroll",N))},teardown:function o(){--s[n],s[n]||T.unbind(i,S),b&&(--s.touchstart,s.touchstart||T.unbind("touchstart",F).unbind("touchmove",H).unbind("touchend",O).unbind("scroll",N));var t=p(this),e=p.data(this,a);e&&(e[n]=!1),t.unbind(i,j),B(this)||t.removeData(a)}}}for(p.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},e=0;e<n.length;e++)p.event.special[n[e]]=A(n[e]);b&&t.addEventListener("click",function(t){var e,n,i,o,a,s=m.length,r=t.target;if(s)for(e=t.clientX,n=t.clientY,u=p.vmouse.clickDistanceThreshold,i=r;i;){for(o=0;o<s;o++)if(a=m[o],i===r&&Math.abs(a.x-e)<u&&Math.abs(a.y-n)<u||p.data(i,c)===a.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},!0)}(t,u),t.mobile={},g=t,h={touch:"ontouchend"in u},g.mobile.support=g.mobile.support||{},g.extend(g.support,h),g.extend(g.mobile.support,h),v=this,m=(d=t)(u),g=d.mobile.support.touch,w="touchmove scroll",b=g?"touchstart":"mousedown",T=g?"touchend":"mouseup",D=g?"touchmove":"mousemove",d.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,e){d.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)},d.attrFn&&(d.attrFn[e]=!0)}),d.event.special.scrollstart={enabled:!0,setup:function C(){var n,e,i=this;function o(t,e){Y(i,(n=e)?"scrollstart":"scrollstop",t)}d(i).bind(w,function(t){d.event.special.scrollstart.enabled&&(n||o(t,!0),clearTimeout(e),e=setTimeout(function(){o(t,!1)},50))})},teardown:function L(){d(this).unbind(w)}},d.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function C(){var s=this,r=d(s),u=!1;r.bind("vmousedown",function(t){if(u=!1,t.which&&1!==t.which)return!1;var e,n=t.target;function i(){clearTimeout(e)}function o(){i(),r.unbind("vclick",a).unbind("vmouseup",i),m.unbind("vmousecancel",o)}function a(t){o(),u||n!==t.target?u&&t.preventDefault():Y(s,"tap",t)}r.bind("vmouseup",i).bind("vclick",a),m.bind("vmousecancel",o),e=setTimeout(function(){d.event.special.tap.emitTapOnTaphold||(u=!0),Y(s,"taphold",d.Event("taphold",{target:n}))},d.event.special.tap.tapholdThreshold)})},teardown:function L(){d(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),m.unbind("vmousecancel")}},d.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function S(t){var e=v.pageXOffset,n=v.pageYOffset,i=t.clientX,o=t.clientY;return 0===t.pageY&&Math.floor(o)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(i)>Math.floor(t.pageX)?(i-=e,o-=n):(o<t.pageY-n||i<t.pageX-e)&&(i=t.pageX-e,o=t.pageY-n),{x:i,y:o}},start:function F(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t,e=d.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[e.x,e.y],origin:d(t.target)}},stop:function N(t){t.preventDefault();t=t.originalEvent.touches?t.originalEvent.touches[0]:t,t=d.event.special.swipe.getLocation(t);return{time:(new Date).getTime(),coords:[t.x,t.y]}},handleSwipe:function H(t,e,n,i){if(e.time-t.time<d.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>d.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<d.event.special.swipe.verticalDistanceThreshold){var o=t.coords[0]>e.coords[0]?"swipeleft":"swiperight";return Y(n,"swipe",d.Event("swipe",{target:i,swipestart:t,swipestop:e}),!0),Y(n,o,d.Event(o,{target:i,swipestart:t,swipestop:e}),!0),!0}return!1},eventInProgress:!1,setup:function C(){var a=this,t=d(a),s={},e=d.data(this,"mobile-events");e||d.data(this,"mobile-events",e={length:0}),e.length++,(e.swipe=s).start=function(t){var e,n,i,o;d.event.special.swipe.eventInProgress||(d.event.special.swipe.eventInProgress=!0,n=d.event.special.swipe.start(t),i=t.target,o=!1,s.move=function(t){n&&!t.isDefaultPrevented()&&(e=d.event.special.swipe.stop(t),o||(o=d.event.special.swipe.handleSwipe(n,e,a,i))&&(d.event.special.swipe.eventInProgress=!1),Math.abs(n.coords[0]-e.coords[0])>d.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},s.stop=function(){o=!0,d.event.special.swipe.eventInProgress=!1,m.off(D,s.move),s.move=null},m.on(D,s.move).one(T,s.stop))},t.on(b,s.start)},teardown:function L(){var t,e=d.data(this,"mobile-events");e&&(t=e.swipe,delete e.swipe,e.length--,0===e.length&&d.removeData(this,"mobile-events")),t&&(t.start&&d(this).off(b,t.start),t.move&&m.off(D,t.move),t.stop&&m.off(T,t.stop))}},d.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,e){d.event.special[t]={setup:function C(){d(this).bind(e,d.noop)},teardown:function L(){d(this).unbind(e)}}}),y=t,E={animation:{},transition:{}},k=u.createElement("a"),P=["","webkit-","moz-","o-"],y.each(["animation","transition"],function(t,n){var i=0===t?n+"-name":n;y.each(P,function(t,e){if(k.style[y.camelCase(e+i)]!==x)return E[n].prefix=e,!1}),E[n].duration=y.camelCase(E[n].prefix+n+"-duration"),E[n].event=y.camelCase(E[n].prefix+n+"-end"),""===E[n].prefix&&(E[n].event=E[n].event.toLowerCase())}),y.support.cssTransitions=E.transition.prefix!==x,y.support.cssAnimations=E.animation.prefix!==x,y(k).remove(),y.fn.animationComplete=function(t,e,n){var i,o,a=this,s=function s(){clearTimeout(i),t.apply(this,arguments)},r=e&&"animation"!==e?"transition":"animation";return y.support.cssTransitions&&"transition"===r||y.support.cssAnimations&&"animation"===r?(n===x&&(0!==(o=y(this).context!==u?3e3*parseFloat(y(this).css(E[r].duration)):o)&&o!==x&&!isNaN(o)||(o=y.fn.animationComplete.defaultDuration)),i=setTimeout(function(){y(a).off(E[r].event,s),t.apply(a)},o),y(this).one(E[r].event,s)):(setTimeout(y.proxy(t,this),0),y(this))},y.fn.animationComplete.defaultDuration=1e3});